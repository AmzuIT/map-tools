/* gmplus.js 0.1.0 MIT License. 2015 Yago Ferrer <yago.ferrer@gmail.com> */
!function t(r,o,e){function n(i,s){if(!o[i]){if(!r[i]){var p="function"==typeof require&&require;if(!s&&p)return p(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var d=o[i]={exports:{}};r[i][0].call(d.exports,function(t){var o=r[i][1][t];return n(o?o:t)},d,d.exports,t,r,o,e)}return o[i].exports}for(var a="function"==typeof require&&require,i=0;i<e.length;i++)n(e[i]);return n}({1:[function(t,r){var o=t("../gmplus/utils");r.exports=function(t){function r(r,e){e=e||function(){};var n=o.clone(r);n.zoom=r.zoom||m.zoom,n.center=new t.google.maps.LatLng(r.lat,r.lng),n.id=void 0,n.lat=void 0,n.lng=void 0,c.id=r.id,c.options=r,c.instance=new t.google.maps.Map(t.document.getElementById(r.id),n),t.GMP.maps[r.id].instance=c.instance,t.google.maps.event.addListenerOnce(c.instance,"idle",function(){e(!1,c.instance)})}function e(t,r){return!t||t&&"object"!=typeof t?(r(new Error("You must pass a valid first parameter: options")),!1):t.id||t["class"]?t.lat&&t.lng?!0:(r(new Error('You must pass valid "lat" (latitude) and "lng" (longitude) values')),!1):(r(new Error('You must pass an "id" or a "class" property values')),!1)}function n(o,a){return c=this,e(o,a)&&(t.GMP.maps=n.maps||{},t.GMP.maps[o.id]={create:function(){r(this.arguments,a)},arguments:o},o.async!==!1?f.load(o):t.GMP.maps[o.id].create()),this}function a(t,r){if(1===r.count)i(t,r.setterKey,r.setters[r.setterKey]);else for(var o in r.setters)i(t,o,r.setters[r.setterKey])}function i(t,r,o){"setMove"==r?t.setAnimation(o):t[r](o)}function s(r,o){var e=o.event||"click";o.content=o.content.replace(/\{(\w+)\}/g,function(t,o){return r.data[o]?r.data[o]:""});var n=new t.google.maps.InfoWindow(o);t.google.maps.event.addListener(r,e,function(){n.open(c.instance,r)})}function p(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var r,o;return r=16*Math.random()|0,o="x"===t?r:3&r|8,o.toString(16)})}function u(r,o){r.map=c.instance,r.position=new t.google.maps.LatLng(r.lat,r.lng);var e=r.group||!1;if(o&&o.group&&(e=o.group||e),o)for(var a in o)r[a]=o[a];if(e&&n.maps[c.id].groupOptions&&n.maps[c.id].groupOptions[e])for(var i in n.maps[c.id].groupOptions[e])r[i]=n.maps[c.id].groupOptions[e][i];r.data=r.data||{},r.data&&(r.data.uid=p()),c.options.crossfilter&&c.options.crossfilter.add([r.data]);var u=new t.google.maps.Marker(r);return r.move&&u.setAnimation(r.move),r.bubble&&s(u,r.bubble),e&&(n.maps[c.id].groups=n.maps[c.id].groups||{},n.maps[c.id].groups[e]=n.maps[c.id].groups[e]||[],n.maps[c.id].groups[e].push(u)),n.maps[c.id].markers=n.maps[c.id].markers||{},n.maps[c.id].markers[r.data.uid]=u,u}function d(t){var r,o={},e=0;for(var n in t)r="set"+n[0].toUpperCase()+n.slice(1),o[r]=t[n],e++;var a={count:e,setterKey:r,setters:o};return a}var c,m={version:"3.exp",zoom:8},f={load:function(r){var o=r.version||m.version,e=document.createElement("script");return e.type="text/javascript",e.src="//maps.googleapis.com/maps/api/js?v="+o+"&callback=GMP.maps."+r.id+".create",t.document.body.appendChild(e)}};return n.prototype.instance=!1,n.prototype.bounce=1,n.prototype.drop=2,n.prototype.addMarker=function(t,r){if("[object Array]"===Object.prototype.toString.call(t)){var o,e=[];for(var n in t)o=u(t[n],r),e.push(o);return e}return"object"==typeof t?u(t,r):void 0},n.prototype.updateMarker=function(t,r){var o=d(r);if("[object Array]"===Object.prototype.toString.call(t)){var e;for(var i in t)e=t[i].uid,n.maps[c.id].markers[e]&&a(n.maps[c.id].markers[e],o)}},n.prototype.addGroup=function(t,r){n.maps[c.id].groups=n.maps[c.id].groups||[],n.maps[c.id].groupOptions=n.maps[c.id].groupOptions||{},n.maps[c.id].groupOptions[t]=r},n.prototype.updateGroup=function(t,r){var o=d(r);if(n.maps[c.id].groups&&n.maps[c.id].groups[t])for(var e in n.maps[c.id].groups[t])a(n.maps[c.id].groups[t][e],o)},n}},{"../gmplus/utils":2}],2:[function(t,r){function o(t){var r,e,n;r=Array.isArray(t)?[]:{};for(n in t)e=t[n],r[n]="object"==typeof e?o(e):e;return r}r.exports={clone:o}},{}],3:[function(t){window.GMP=t("./gmplus/map")(window)},{"./gmplus/map":1}]},{},[3]);