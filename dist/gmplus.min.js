/* gmplus.js 0.1.0 MIT License. 2015 Yago Ferrer <yago.ferrer@gmail.com> */
!function t(e,r,o){function n(s,i){if(!r[s]){if(!e[s]){var p="function"==typeof require&&require;if(!i&&p)return p(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};e[s][0].call(d.exports,function(t){var r=e[s][1][t];return n(r?r:t)},d,d.exports,t,e,r,o)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e){e.exports={version:"3.exp",zoom:8}},{}],2:[function(t,e){(function(r){"use strict";function o(t){var e=t.version||n.version,o=document.createElement("script");return o.type="text/javascript",o.src="//maps.googleapis.com/maps/api/js?v="+e+"&callback=GMP.maps."+t.id+".create",r.document.body.appendChild(o)}var n=t("../gmplus/defaults");e.exports={load:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../gmplus/defaults":1}],3:[function(t,e){var r=t("../gmplus/utils"),o=t("../gmplus/defaults"),n=t("../gmplus/gmaps.js");e.exports=function(t){function e(e,n){n=n||function(){};var a=r.clone(e);a.zoom=e.zoom||o.zoom,a.center=new t.google.maps.LatLng(e.lat,e.lng),a.id=void 0,a.lat=void 0,a.lng=void 0,c.id=e.id,c.options=e,c.instance=new t.google.maps.Map(t.document.getElementById(e.id),a),t.GMP.maps[e.id].instance=c.instance,t.google.maps.event.addListenerOnce(c.instance,"idle",function(){n(!1,c.instance)})}function a(t,e){return!t||t&&"object"!=typeof t?(e(new Error("You must pass a valid first parameter: options")),!1):t.id||t["class"]?t.lat&&t.lng?!0:(e(new Error('You must pass valid "lat" (latitude) and "lng" (longitude) values')),!1):(e(new Error('You must pass an "id" or a "class" property values')),!1)}function s(r,o){return c=this,a(r,o)&&(t.GMP.maps=s.maps||{},t.GMP.maps[r.id]={create:function(){e(this.arguments,o)},arguments:r},r.async!==!1?n.load(r):t.GMP.maps[r.id].create()),this}function i(t,e){if(1===e.count)p(t,e.setterKey,e.setters[e.setterKey]);else for(var r in e.setters)p(t,r,e.setters[e.setterKey])}function p(t,e,r){"setMove"==e?t.setAnimation(r):t[e](r)}function u(e,r){var o=r.event||"click";r.content=r.content.replace(/\{(\w+)\}/g,function(t,r){return e.data[r]?e.data[r]:""});var n=new t.google.maps.InfoWindow(r);t.google.maps.event.addListener(e,o,function(){n.open(c.instance,e)})}function d(e,o){e.map=c.instance,e.position=new t.google.maps.LatLng(e.lat,e.lng);var n=e.group||!1;if(o&&o.group&&(n=o.group||n),o)for(var a in o)e[a]=o[a];if(n&&s.maps[c.id].groupOptions&&s.maps[c.id].groupOptions[n])for(var i in s.maps[c.id].groupOptions[n])e[i]=s.maps[c.id].groupOptions[n][i];e.data=e.data||{},e.data&&(e.data.uid=r.createUid()),c.options.crossfilter&&c.options.crossfilter.add([e.data]);var p=new t.google.maps.Marker(e);return e.move&&p.setAnimation(e.move),e.bubble&&u(p,e.bubble),n&&(s.maps[c.id].groups=s.maps[c.id].groups||{},s.maps[c.id].groups[n]=s.maps[c.id].groups[n]||[],s.maps[c.id].groups[n].push(p)),s.maps[c.id].markers=s.maps[c.id].markers||{},s.maps[c.id].markers[e.data.uid]=p,p}var c;return s.prototype.instance=!1,s.prototype.bounce=1,s.prototype.drop=2,s.prototype.addMarker=function(t,e){if("[object Array]"===Object.prototype.toString.call(t)){var r,o=[];for(var n in t)r=d(t[n],e),o.push(r);return o}return"object"==typeof t?d(t,e):void 0},s.prototype.updateMarker=function(t,e){var o=r.createSetters(e);if("[object Array]"===Object.prototype.toString.call(t)){var n;for(var a in t)n=t[a].uid,s.maps[c.id].markers[n]&&i(s.maps[c.id].markers[n],o)}},s.prototype.addGroup=function(t,e){s.maps[c.id].groups=s.maps[c.id].groups||[],s.maps[c.id].groupOptions=s.maps[c.id].groupOptions||{},s.maps[c.id].groupOptions[t]=e},s.prototype.updateGroup=function(t,e){var o=r.createSetters(e);if(s.maps[c.id].groups&&s.maps[c.id].groups[t])for(var n in s.maps[c.id].groups[t])i(s.maps[c.id].groups[t][n],o)},s}},{"../gmplus/defaults":1,"../gmplus/gmaps.js":2,"../gmplus/utils":4}],4:[function(t,e){function r(t){var e,o,n;e=Array.isArray(t)?[]:{};for(n in t)o=t[n],e[n]="object"==typeof o?r(o):o;return e}function o(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,r;return e=16*Math.random()|0,r="x"===t?e:3&e|8,r.toString(16)})}function n(t){var e,r={},o=0;for(var n in t)e="set"+n[0].toUpperCase()+n.slice(1),r[e]=t[n],o++;var a={count:o,setterKey:e,setters:r};return a}e.exports={clone:r,createUid:o,createSetters:n}},{}],5:[function(t){window.GMP=t("./gmplus/map")(window)},{"./gmplus/map":3}]},{},[5]);